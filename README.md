# ğŸ“ NestJS Google Drive File Uploader

Ğ¦ĞµĞ¹ Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚ Ñ€ĞµĞ°Ğ»Ñ–Ğ·ÑƒÑ” Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¸Ğ¹, ĞµÑ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹ Ñ– Ğ·Ğ°Ñ…Ğ¸Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ²ĞµĞ±-ÑĞµÑ€Ğ²Ñ–Ñ Ğ½Ğ° Ğ±Ğ°Ğ·Ñ– **NestJS**, ÑĞºĞ¸Ğ¹ Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ” Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¸ Ğ½Ğ° **Google Drive** Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ, Ğ° Ñ‚Ğ°ĞºĞ¾Ğ¶ Ğ¿ĞµÑ€ĞµĞ³Ğ»ÑĞ´Ğ°Ñ‚Ğ¸ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ².

## ğŸš€ ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–

- Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Ğ· Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ Ğ±ĞµĞ·Ğ¿Ğ¾ÑĞµÑ€ĞµĞ´Ğ½ÑŒĞ¾ Ğ½Ğ° Google Drive.
- ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ ÑĞ¿Ğ¸ÑĞºÑƒ Ğ²ÑÑ–Ñ… Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Ğ· Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½ÑĞ¼Ğ¸.
- ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Ğ²ĞµĞ»Ğ¸ĞºĞ¾Ğ³Ğ¾ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñƒ (Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ²Ğµ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ).
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ñ– Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ñ— Ğ· TypeORM.
- ĞŸĞ¾Ğ²Ğ½Ğ° Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ CI/CD Ñ‡ĞµÑ€ĞµĞ· GitHub Actions.

## ğŸ› ï¸ Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ñ– Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ—

- **NestJS**
- **TypeORM**
- **PostgreSQL**
- **Google Drive API**
- **Docker Compose**
- **JWT, Helmet, Throttler (Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸)**
- **GitHub Actions (CI/CD)**

## ğŸ“¦ Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ğ·Ğ°Ğ¿ÑƒÑĞº




### 1. ĞšĞ»Ğ¾Ğ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ

```bash
git clone https://github.com/your-username/your-repository.git
cd your-repository
```

### 2. Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚ĞµĞ¹

```bash
npm install
```

### 3. ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ

Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸ Ñ„Ğ°Ğ¹Ğ» `.env`:

```dotenv
DB_HOST=localhost (postgres ÑĞºÑ‰Ğ¾ Docker)
DB_PORT=5432
DB_USER=your_user
DB_PASSWORD=your_password
DB_NAME=your_database
JWT_SECRET=your_jwt_secret
```

ĞŸĞ¾Ğ¼Ñ–ÑÑ‚Ğ¸ Ñ„Ğ°Ğ¹Ğ» Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ— Google Drive (`client_secret.json`) Ğ² ĞºĞ¾Ñ€Ñ–Ğ½ÑŒ Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ.

### 4. Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ· Docker Compose

```bash
docker-compose up -d --build
```

Ğ¡ĞµÑ€Ğ²Ñ–Ñ Ğ±ÑƒĞ´Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ğ·Ğ° Ğ°Ğ´Ñ€ĞµÑĞ¾Ñ `http://localhost:3000`.

## ğŸ“Œ Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ API

### ğŸ”¼ Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²

```http
POST /files

{
  "urls": ["https://example.com/file.pdf"]
}
```

### ğŸ“ƒ ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ ÑĞ¿Ğ¸ÑĞºÑƒ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²

```http
GET /files
```

## ğŸ› ï¸ Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ–Ğ² Ñ‚Ğ° Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ğ¹ TypeORM

### Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ğ¹

```bash
npm run build
npm run typeorm migration:generate -d dist/config/ormconfig.js src/database/YourMigrationName
```

### Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ğ¹

```bash
npm run build
npm run typeorm migration:run -d dist/config/ormconfig.js
```

## ğŸ”„ CI/CD Workflow

CI/CD Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· **GitHub Actions**:

- ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° ĞºĞ¾Ğ¼Ğ¿Ñ–Ğ»ÑÑ†Ñ–Ñ— Ñ‚Ğ° Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ğ¹ Ğ¿Ñ€Ğ¸ push Ñƒ Ğ³Ñ–Ğ»ĞºÑƒ `main`.
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ deploy Ñ‡ĞµÑ€ĞµĞ· Docker Compose.

## ğŸ“‚ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ

```
nestjs-app
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .env
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app.module.ts
â”‚   â”œâ”€â”€ main.ts
â”‚   â”œâ”€â”€ google-drive
â”‚   â”‚   â”œâ”€â”€ google-drive.module.ts
â”‚   â”‚   â”œâ”€â”€ google-drive.interface.ts
â”‚   â”‚   â””â”€â”€ google-drive.service.ts
â”‚   â”œâ”€â”€ files
â”‚   â”‚   â”œâ”€â”€ files.module.ts
â”‚   â”‚   â”œâ”€â”€ files.controller.ts
â”‚   â”‚   â”œâ”€â”€ files.service.ts
â”‚   â”‚   â”œâ”€â”€ files.processor.ts
â”‚   â”‚   â”œâ”€â”€ repository
â”‚   â”‚   â”‚   â”œâ”€â”€ IFilesRepository.ts
â”‚   â”‚   â”‚   â””â”€â”€ files.repository.ts
â”‚   â”‚   â”œâ”€â”€ entities
â”‚   â”‚   â”‚   â””â”€â”€ file.entity.ts
â”‚   â”‚   â””â”€â”€ dto
â”‚   â”‚       â”œâ”€â”€ create-file.dto.ts
â”‚   â”‚       â””â”€â”€ file-response.dto.ts
â””â”€â”€ ...
```

